(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{2885:function(e,t,s){Promise.resolve().then(s.bind(s,3985))},3985:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(7437),r=s(2265),n=s(6853),i=s(6463),c=s(7383),o=e=>{let{name:t,desc:s,handleEdit:r,handleDelete:n,data:i}=e;return(0,a.jsxs)("section",{className:"w-full",children:[(0,a.jsx)("h1",{className:"head_text text_left",children:(0,a.jsxs)("span",{className:"blue_gradient",children:[t," Profile"]})}),(0,a.jsx)("p",{className:"desc text-left",children:s}),(0,a.jsx)("div",{className:"mt-16 prompt_layout",children:i.map(e=>(0,a.jsx)(c.Z,{post:e,handleEdit:()=>r&&r(e),handleDelete:()=>n&&n(e)},e._id))})]})},l=()=>{let{user:e,error:t,isLoading:s}=(0,n.aF)(),c=(0,i.useRouter)(),[l,u]=(0,r.useState)([]);(0,r.useEffect)(()=>{let t=async()=>{let t=await fetch("/api/user/".concat(e.sub,"/posts")),s=await t.json();console.log(s),u(s)};(null==e?void 0:e.sub)&&t()},[e]);let d=async e=>{if(confirm("Are you sure you want to delete this prompt?"))try{await fetch("/api/prompt/".concat(e._id.toString()),{method:"DELETE"});let t=l.filter(t=>t._id!==e._id);u(t)}catch(e){console.log(e)}};return(0,a.jsx)(o,{name:"My",desc:"Welcome to your personalized profile page",data:l,handleEdit:e=>{c.push("update-prompt?id=".concat(e._id))},handleDelete:d})}},7383:function(e,t,s){"use strict";var a=s(7437),r=s(2265),n=s(6648),i=s(6853),c=s(6463);t.Z=e=>{let{post:t,handleTagClick:s,handleEdit:o,handleDelete:l}=e,{user:u,loading:d,error:m}=(0,i.aF)(),p=(0,c.usePathname)();(0,c.useRouter)();let[h,f]=(0,r.useState)("second");return(0,a.jsxs)("div",{className:"prompt_card",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start gap-5",children:[(0,a.jsxs)("div",{className:"flex-1 flex  justify-start items-center gap-3 cursor-pointer",children:[(0,a.jsx)("img",{src:t.creator.image,alt:"user_image",className:"rounded-full object-contain size-[40px]"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h3",{className:"font-satoshi font-semibold text-gray-900",children:t.creator.username}),(0,a.jsx)("p",{className:"font-inter text-sm text-gray-500",children:t.creator.email})]})]}),(0,a.jsx)("div",{className:"copy_btn",onClick:()=>{f(t.prompt),navigator.clipboard.writeText(t.prompt),setTimeout(()=>f(""),2e3)},children:(0,a.jsx)(n.default,{src:h===t.prompt?"/assets/icons/tick.svg":"/assets/icons/copy.svg",width:12,height:12})})]}),(0,a.jsx)("p",{className:"my-4 font-satoshi text-sm text-gray-700",children:t.prompt}),(0,a.jsxs)("p",{className:"font-inter text-sm blue_gradient cursor-pointer",onClick:()=>s&&s(t.tag),children:["#",t.tag]}),(null==u?void 0:u.sub)===t.creator.auth0Id&&"/profile"===p&&(0,a.jsxs)("div",{className:"mt-5 flex-center gap-4 border-t border-gray-100 pt-3",children:[(0,a.jsx)("p",{className:"font-inter text-sm green_gradient cursor-pointer",onClick:o,children:"Edit"}),(0,a.jsx)("p",{className:"font-inter text-sm orange_gradient cursor-pointer",onClick:l,children:"Delete"})]})]})}},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[730,648,971,23,744],function(){return e(e.s=2885)}),_N_E=e.O()}]);