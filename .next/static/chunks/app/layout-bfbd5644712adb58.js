(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6292:function(e,s,l){Promise.resolve().then(l.bind(l,6153)),Promise.resolve().then(l.bind(l,6853)),Promise.resolve().then(l.t.bind(l,4332,23))},6153:function(e,s,l){"use strict";var a=l(7437),n=l(7138),t=l(6648),i=l(2265),r=l(6853);s.default=()=>{let{user:e,error:s,isLoading:l}=(0,r.aF)(),[c,o]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{!l&&e&&fetch("/api/user",{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{console.log(e.message)}).catch(e=>{console.error("Error adding user:",e)})},[e,l]),l)?(0,a.jsx)("div",{children:"Loading..."}):s?(0,a.jsx)("div",{children:s.message}):(0,a.jsxs)("nav",{className:"flex-between w-full mb-16 pt-3",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex gap-2 flex-center",children:[(0,a.jsx)(t.default,{src:"/assets/images/logo.svg",alt:"Promptopia Logo",width:30,height:30,className:"object-contain"}),(0,a.jsx)("p",{className:"logo_text",children:"Emporium"})]}),(0,a.jsx)("div",{className:"sm:flex hidden",children:e?(0,a.jsxs)("div",{className:"flex gap-3 md:gap-5",children:[(0,a.jsx)(n.default,{href:"/create-prompt",className:"black_btn",children:"Create Post"}),(0,a.jsx)("a",{href:"/api/auth/logout",className:"outline_btn",children:"Log Out"}),(0,a.jsx)(n.default,{href:"/profile",children:(0,a.jsx)("img",{src:e.picture,className:"rounded-full size-[37px]",alt:"profile"})})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("a",{href:"/api/auth/login",className:"black_btn",children:"Sign In"})})}),(0,a.jsx)("div",{className:"sm:hidden flex relative",children:e?(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("img",{src:e.picture,className:"rounded-full size-[37px]",alt:"profile",onClick:()=>o(e=>!e)}),c&&(0,a.jsxs)("div",{className:"dropdown",children:[(0,a.jsx)(n.default,{href:"/profile",className:"dropdown_link",onClick:()=>o(!1),children:"My Profile"}),(0,a.jsx)(n.default,{href:"/profile",className:"create_prompt",onClick:()=>o(!1),children:"Create Prompt"}),(0,a.jsx)("a",{href:"/api/auth/logout",className:"mt-5 w-full black_btn",children:"Sign Out"})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{type:"button",className:"black_btn",children:"Sign In"})})})]})}},4332:function(){}},function(e){e.O(0,[228,730,138,648,971,23,744],function(){return e(e.s=6292)}),_N_E=e.O()}]);